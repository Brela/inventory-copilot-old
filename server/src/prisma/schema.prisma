// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  // shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

// @id means primary key      @default() is for entering a default value
model Product {
  id               Int        @id @default(autoincrement())
  sku              String     @unique
  image            String?
  brand            String
  productName      String
  inStock          Int
  reorderAt        Int
  orderQty         Int
  totalIncomingQty Int
  incomingDates    DateTime[]
  // below fields are for "order Now" and "Settings" Popups
  shipper          String
  priceEA          Float
  orderNowOrderQty Int
  shippingCost     Float
  itemUsageSpeed   Int
  orders           Order[]
}

// product and order are in many-to-one relationship. 
// Each Order belongs to one Product 
// and each product can have multiple Order records (the orders array above)

model Order {
  id               Int       @id @default(autoincrement())
  orderID          String    @unique
  SKU              Int
  // fields points to a field in this model and it references the other model's field
  product          Product   @relation(fields: [id], references: [id])
  productName      String
  status           String
  orderedDate      DateTime?
  schedArrivalDate DateTime?
  delivered        DateTime?
  orderQty         Int
  shipperName      String
  shipperAddress   String
  shipperPhone     String?
  // optinal
  shippingCost     Float
  totalCost        Float
}
